div {
  border: 2px solid darkblue;
}


.box3, .box2, .box1 {  
  display:-webkit-box;  
  display:-webkit-flex;  
  display:-ms-flexbox;  
  display:flex;
  box-sizing: border-box;
  min-width:100%;
}

.box1 {  
  max-height:70%;
  -webkit-box-flex:1;
  -webkit-flex:1 1 70%;
      -ms-flex:1 1 70%;
          flex:1 1 70%;
}

.box2 {
  height:20px;  
}

.box3 {  
  height:30%;
  max-height:30%;
  -webkit-box-flex:1;
  -webkit-flex:1 1 30%;
      -ms-flex:1 1 30%;
          flex:1 1 30%;
}